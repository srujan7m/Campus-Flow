module.exports=[56456,a=>{"use strict";var b=a.i(46447),c=a.i(30564),d=a.i(1470),e=a.i(53615),f=a.i(1556),g=a.i(38229),h=a.i(96926),i=a.i(6665),j=a.i(6681),k=a.i(2215),k=k,l=a.i(84435),m=a.i(82634);let n=(0,a.i(61237).default)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);var o=a.i(40695),p=a.i(5522),q=a.i(3130),r=a.i(54161),s=a.i(17171),t=a.i(7379),u=a.i(38032),v=a.i(92432),w=a.i(2209),x=a.i(91586),y=a.i(20755),z=a.i(74556),A=a.i(3337),B=a.i(85811),C=a.i(68234),D=a.i(87695),E=a.i(42008),F=a.i(89525),G=a.i(16164),H=a.i(57554),I="Dialog",[J,K]=(0,w.createContextScope)(I),[L,M]=J(I),N=a=>{let{__scopeDialog:d,children:e,open:f,defaultOpen:g,onOpenChange:h,modal:i=!0}=a,j=c.useRef(null),k=c.useRef(null),[l=!1,m]=(0,y.useControllableState)({prop:f,defaultProp:g,onChange:h});return(0,b.jsx)(L,{scope:d,triggerRef:j,contentRef:k,contentId:(0,x.useId)(),titleId:(0,x.useId)(),descriptionId:(0,x.useId)(),open:l,onOpenChange:m,onOpenToggle:c.useCallback(()=>m(a=>!a),[m]),modal:i,children:e})};N.displayName=I;var O="DialogTrigger",P=c.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=M(O,d),g=(0,v.useComposedRefs)(c,f.triggerRef);return(0,b.jsx)(D.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":f.open,"aria-controls":f.contentId,"data-state":ag(f.open),...e,ref:g,onClick:(0,u.composeEventHandlers)(a.onClick,f.onOpenToggle)})});P.displayName=O;var Q="DialogPortal",[R,S]=J(Q,{forceMount:void 0}),T=a=>{let{__scopeDialog:d,forceMount:e,children:f,container:g}=a,h=M(Q,d);return(0,b.jsx)(R,{scope:d,forceMount:e,children:c.Children.map(f,a=>(0,b.jsx)(C.Presence,{present:e||h.open,children:(0,b.jsx)(B.Portal,{asChild:!0,container:g,children:a})}))})};T.displayName=Q;var U="DialogOverlay",V=c.forwardRef((a,c)=>{let d=S(U,a.__scopeDialog),{forceMount:e=d.forceMount,...f}=a,g=M(U,a.__scopeDialog);return g.modal?(0,b.jsx)(C.Presence,{present:e||g.open,children:(0,b.jsx)(W,{...f,ref:c})}):null});V.displayName=U;var W=c.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=M(U,d);return(0,b.jsx)(F.RemoveScroll,{as:H.Slot,allowPinchZoom:!0,shards:[f.contentRef],children:(0,b.jsx)(D.Primitive.div,{"data-state":ag(f.open),...e,ref:c,style:{pointerEvents:"auto",...e.style}})})}),X="DialogContent",Y=c.forwardRef((a,c)=>{let d=S(X,a.__scopeDialog),{forceMount:e=d.forceMount,...f}=a,g=M(X,a.__scopeDialog);return(0,b.jsx)(C.Presence,{present:e||g.open,children:g.modal?(0,b.jsx)(Z,{...f,ref:c}):(0,b.jsx)($,{...f,ref:c})})});Y.displayName=X;var Z=c.forwardRef((a,d)=>{let e=M(X,a.__scopeDialog),f=c.useRef(null),g=(0,v.useComposedRefs)(d,e.contentRef,f);return c.useEffect(()=>{let a=f.current;if(a)return(0,G.hideOthers)(a)},[]),(0,b.jsx)(_,{...a,ref:g,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,u.composeEventHandlers)(a.onCloseAutoFocus,a=>{a.preventDefault(),e.triggerRef.current?.focus()}),onPointerDownOutside:(0,u.composeEventHandlers)(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;(2===b.button||c)&&a.preventDefault()}),onFocusOutside:(0,u.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault())})}),$=c.forwardRef((a,d)=>{let e=M(X,a.__scopeDialog),f=c.useRef(!1),g=c.useRef(!1);return(0,b.jsx)(_,{...a,ref:d,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(f.current||e.triggerRef.current?.focus(),b.preventDefault()),f.current=!1,g.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(f.current=!0,"pointerdown"===b.detail.originalEvent.type&&(g.current=!0));let c=b.target;e.triggerRef.current?.contains(c)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&g.current&&b.preventDefault()}})}),_=c.forwardRef((a,d)=>{let{__scopeDialog:e,trapFocus:f,onOpenAutoFocus:g,onCloseAutoFocus:h,...i}=a,j=M(X,e),k=c.useRef(null),l=(0,v.useComposedRefs)(d,k);return(0,E.useFocusGuards)(),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(A.FocusScope,{asChild:!0,loop:!0,trapped:f,onMountAutoFocus:g,onUnmountAutoFocus:h,children:(0,b.jsx)(z.DismissableLayer,{role:"dialog",id:j.contentId,"aria-describedby":j.descriptionId,"aria-labelledby":j.titleId,"data-state":ag(j.open),...i,ref:l,onDismiss:()=>j.onOpenChange(!1)})}),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ak,{titleId:j.titleId}),(0,b.jsx)(al,{contentRef:k,descriptionId:j.descriptionId})]})]})}),aa="DialogTitle",ab=c.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=M(aa,d);return(0,b.jsx)(D.Primitive.h2,{id:f.titleId,...e,ref:c})});ab.displayName=aa;var ac="DialogDescription",ad=c.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=M(ac,d);return(0,b.jsx)(D.Primitive.p,{id:f.descriptionId,...e,ref:c})});ad.displayName=ac;var ae="DialogClose",af=c.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=M(ae,d);return(0,b.jsx)(D.Primitive.button,{type:"button",...e,ref:c,onClick:(0,u.composeEventHandlers)(a.onClick,()=>f.onOpenChange(!1))})});function ag(a){return a?"open":"closed"}af.displayName=ae;var ah="DialogTitleWarning",[ai,aj]=(0,w.createContext)(ah,{contentName:X,titleName:aa,docsSlug:"dialog"}),ak=({titleId:a})=>{let b=aj(ah),d=`\`${b.contentName}\` requires a \`${b.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${b.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${b.docsSlug}`;return c.useEffect(()=>{a&&(document.getElementById(a)||console.error(d))},[d,a]),null},al=({contentRef:a,descriptionId:b})=>{let d=aj("DialogDescriptionWarning"),e=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${d.contentName}}.`;return c.useEffect(()=>{let c=a.current?.getAttribute("aria-describedby");b&&c&&(document.getElementById(b)||console.warn(e))},[e,a,b]),null},am=a.i(31293),am=am,an=a.i(97895);function ao({...a}){return(0,b.jsx)(N,{"data-slot":"dialog",...a})}function ap({...a}){return(0,b.jsx)(P,{"data-slot":"dialog-trigger",...a})}function aq({...a}){return(0,b.jsx)(T,{"data-slot":"dialog-portal",...a})}function ar({className:a,...c}){return(0,b.jsx)(V,{"data-slot":"dialog-overlay",className:(0,an.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...c})}function as({className:a,children:c,showCloseButton:d=!0,...e}){return(0,b.jsxs)(aq,{"data-slot":"dialog-portal",children:[(0,b.jsx)(ar,{}),(0,b.jsxs)(Y,{"data-slot":"dialog-content",className:(0,an.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...e,children:[c,d&&(0,b.jsxs)(af,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,b.jsx)(am.default,{}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function at({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"dialog-header",className:(0,an.cn)("flex flex-col gap-2 text-center sm:text-left",a),...c})}function au({className:a,...c}){return(0,b.jsx)(ab,{"data-slot":"dialog-title",className:(0,an.cn)("text-lg leading-none font-semibold",a),...c})}function av({className:a,...c}){return(0,b.jsx)(ad,{"data-slot":"dialog-description",className:(0,an.cn)("text-muted-foreground text-sm",a),...c})}a.i(89871);var aw=a.i(67135),ax=a.i(93902),ay=a.i(16564),az=a.i(56916),aA=a.i(73608);function aB(){let a=(0,d.useParams)().code,{data:u,isLoading:v}=(0,ax.useEvent)(a),w=(0,ay.useCreateRegistration)(),x=(0,ay.useVerifyPayment)(),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)({name:"",email:"",phone:""});(0,c.useEffect)(()=>{let a=document.createElement("script");return a.src="https://checkout.razorpay.com/v1/checkout.js",a.async=!0,document.body.appendChild(a),()=>{document.body.removeChild(a)}},[]);let G=a=>{let{name:b,value:c}=a.target;F(a=>({...a,[b]:c}))},H=async b=>{b.preventDefault(),B(!0);try{let b=await w.mutateAsync({eventCode:a,name:E.name,email:E.email,phone:E.phone,amount:u?.ticketPrice||0});if(b.isFree||0>=(u?.ticketPrice||0)){az.toast.success("Registration successful! Check your email for confirmation."),D(!1),F({name:"",email:"",phone:""});return}let c={key:"rzp_test_Rl8FqsanSEuyRI",amount:b.amount,currency:b.currency,name:u?.name||"Event Registration",description:`Registration for ${u?.name}`,order_id:b.orderId,handler:async a=>{try{await x.mutateAsync({razorpayPaymentId:a.razorpay_payment_id,razorpayOrderId:a.razorpay_order_id,razorpaySignature:a.razorpay_signature,registrationId:b.registration.id}),az.toast.success("Registration successful! Check your email for confirmation."),D(!1),F({name:"",email:"",phone:""})}catch{az.toast.error("Payment verification failed. Please contact support.")}},prefill:{name:E.name,email:E.email,contact:E.phone},theme:{color:"#2563eb"}};new window.Razorpay(c).open()}catch{az.toast.error("Failed to initiate registration")}finally{B(!1)}};if(v)return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,b.jsx)(l.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!u)return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,b.jsx)(q.Card,{className:"max-w-md mx-auto",children:(0,b.jsxs)(q.CardHeader,{children:[(0,b.jsx)(q.CardTitle,{children:"Event Not Found"}),(0,b.jsx)(q.CardDescription,{children:"The event you're looking for doesn't exist or has been removed."})]})})});let I=new Date(u.date)>new Date;return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)("div",{className:"relative bg-linear-to-b from-primary/10 to-background pb-12",children:(0,b.jsx)("div",{className:"container mx-auto px-4 pt-12",children:(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)(r.Badge,{variant:I?"default":"secondary",children:I?"Upcoming Event":"Past Event"}),(0,b.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(a),z(!0),az.toast.success("Event code copied!"),setTimeout(()=>z(!1),2e3)},className:"flex items-center gap-1.5 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[(0,b.jsx)("span",{className:"font-mono",children:a}),y?(0,b.jsx)(k.default,{className:"h-3.5 w-3.5 text-green-500"}):(0,b.jsx)(j.Copy,{className:"h-3.5 w-3.5"})]})]}),(0,b.jsx)("h1",{className:"text-4xl md:text-5xl font-bold tracking-tight mb-4",children:u.name}),(0,b.jsx)("p",{className:"text-lg text-muted-foreground mb-8",children:u.description}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-6 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Calendar,{className:"h-5 w-5 text-primary"}),(0,b.jsx)("span",{children:(()=>{try{return(0,aA.format)(new Date(u.date),"EEEE, MMMM d, yyyy 'at' h:mm a")}catch(a){return"Date not available"}})()})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.MapPin,{className:"h-5 w-5 text-primary"}),(0,b.jsx)("span",{children:u.address})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.DollarSign,{className:"h-5 w-5 text-primary"}),(0,b.jsxs)("span",{className:"font-semibold",children:["₹",u.ticketPrice]})]})]})]})})}),(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto grid gap-8 lg:grid-cols-3",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,b.jsxs)(q.Card,{children:[(0,b.jsx)(q.CardHeader,{children:(0,b.jsxs)(q.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(g.MapPin,{className:"h-5 w-5"}),"Event Location"]})}),(0,b.jsxs)(q.CardContent,{children:[(0,b.jsx)(aw.EventMap,{lat:u.lat,lng:u.lng,address:u.address,eventName:u.name,height:"300px"}),(0,b.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:u.address}),(0,b.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>window.open(`https://www.google.com/maps/dir/?api=1&destination=${u.lat},${u.lng}`,"_blank"),children:[(0,b.jsx)(n,{className:"mr-2 h-4 w-4"}),"Get Directions"]})]})]})]})}),u.indoorMap?.url&&(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,b.jsxs)(q.Card,{children:[(0,b.jsxs)(q.CardHeader,{children:[(0,b.jsx)(q.CardTitle,{children:"Indoor Map"}),(0,b.jsx)(q.CardDescription,{children:"Navigate the venue with our indoor floor plan"})]}),(0,b.jsxs)(q.CardContent,{children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("img",{src:u.indoorMap.url,alt:"Indoor Map",className:"w-full rounded-lg"}),u.indoorMap.pois?.map(a=>(0,b.jsx)("div",{className:"absolute w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs font-bold shadow-lg cursor-pointer transform -translate-x-1/2 -translate-y-1/2 hover:scale-110 transition-transform",style:{left:`${a.x}%`,top:`${a.y}%`},title:a.name,children:a.name.charAt(0)},a.id))]}),u.indoorMap.pois&&u.indoorMap.pois.length>0&&(0,b.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:u.indoorMap.pois.map(a=>(0,b.jsx)(r.Badge,{variant:"secondary",children:a.name},a.id))})]})]})})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:(0,b.jsxs)(q.Card,{className:"sticky top-4",children:[(0,b.jsxs)(q.CardHeader,{children:[(0,b.jsx)(q.CardTitle,{children:"Register Now"}),(0,b.jsx)(q.CardDescription,{children:"Secure your spot at this event"})]}),(0,b.jsxs)(q.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Ticket Price"}),(0,b.jsx)("span",{className:"text-2xl font-bold",children:(u.ticketPrice||0)>0?`₹${u.ticketPrice}`:"Free"})]}),(0,b.jsx)(t.Separator,{}),I?(0,b.jsxs)(ao,{open:C,onOpenChange:D,children:[(0,b.jsx)(ap,{asChild:!0,children:(0,b.jsxs)(o.Button,{className:"w-full",size:"lg",children:[(0,b.jsx)(i.Users,{className:"mr-2 h-4 w-4"}),"Register for Event"]})}),(0,b.jsxs)(as,{children:[(0,b.jsxs)(at,{children:[(0,b.jsxs)(au,{children:["Register for ",u.name]}),(0,b.jsx)(av,{children:"Fill in your details to complete registration"})]}),(0,b.jsxs)("form",{onSubmit:H,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(s.Label,{htmlFor:"name",children:"Full Name"}),(0,b.jsx)(p.Input,{id:"name",name:"name",placeholder:"Enter your full name",value:E.name,onChange:G,required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(s.Label,{htmlFor:"email",children:"Email"}),(0,b.jsx)(p.Input,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:E.email,onChange:G,required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(s.Label,{htmlFor:"phone",children:"Phone Number"}),(0,b.jsx)(p.Input,{id:"phone",name:"phone",type:"tel",placeholder:"Enter your phone number",value:E.phone,onChange:G,required:!0})]}),(0,b.jsx)(t.Separator,{}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{children:"Total Amount"}),(0,b.jsx)("span",{className:"font-bold",children:(u?.ticketPrice||0)>0?`₹${u?.ticketPrice}`:"Free"})]}),(0,b.jsx)(o.Button,{type:"submit",className:"w-full",disabled:A,children:A?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):(u?.ticketPrice||0)>0?(0,b.jsxs)(b.Fragment,{children:["Pay ₹",u?.ticketPrice," & Register"]}):(0,b.jsx)(b.Fragment,{children:"Register for Free"})})]})]})]}):(0,b.jsxs)("div",{className:"text-center py-4",children:[(0,b.jsx)(r.Badge,{variant:"secondary",className:"mb-2",children:"Event Ended"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Registration is closed for this event"})]})]})]})}),u.telegramChatId&&(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},children:(0,b.jsxs)(q.Card,{children:[(0,b.jsx)(q.CardHeader,{children:(0,b.jsxs)(q.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(m.MessageSquare,{className:"h-5 w-5"}),"Need Help?"]})}),(0,b.jsxs)(q.CardContent,{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Join our Telegram group for event updates and to ask questions to our AI-powered support bot."}),(0,b.jsxs)("div",{className:"bg-muted rounded-lg p-4 space-y-2",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground",children:"How to get support:"}),(0,b.jsxs)("ol",{className:"text-sm space-y-1 list-decimal list-inside",children:[(0,b.jsx)("li",{children:"Join our Telegram group"}),(0,b.jsxs)("li",{children:["Send your question with event code:"," ",(0,b.jsx)("code",{className:"bg-background px-1 rounded",children:a})]}),(0,b.jsx)("li",{children:"Get instant AI-powered answers!"})]})]})]})]})})]})]})})]})}a.s(["default",()=>aB],56456)}];

//# sourceMappingURL=app_events_%5Bcode%5D_page_tsx_b05053fd._.js.map